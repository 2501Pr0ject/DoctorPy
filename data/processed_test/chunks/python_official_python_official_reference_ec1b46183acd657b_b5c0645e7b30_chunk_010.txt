If the pattern failed, the guard is not evaluated and the next case block is checked. Check that the pattern in the case block succeeded. If the pattern failed, the guard is not evaluated and the next case block is checked. case guard case If the pattern succeeded, evaluate the guard. If the guard condition evaluates as true, the case block is selected. If the guard condition evaluates as false, the case block is not selected. If the guard raises an exception during evaluation, the exception bubbles up. If the pattern succeeded, evaluate the guard. guard If the guard condition evaluates as true, the case block is selected. If the guard condition evaluates as true, the case block is selected. guard If the guard condition evaluates as false, the case block is not selected. If the guard condition evaluates as false, the case block is not selected. guard If the guard raises an exception during evaluation, the exception bubbles up. If the guard raises an exception during evaluation, the exception bubbles up. guard Guards are allowed to have side effects as they are expressions. Guard evaluation must proceed from the first to the last case block, one at a time, skipping case blocks whose pattern(s) don’t all succeed. (I. e. , guard evaluation must happen in order. ) Guard evaluation must stop once a case block is selected. ### 8. 6. 3. Irrefutable Case Blocks¶ An irrefutable case block is a match-all case block. A match statement may have at most one irrefutable case block, and it must be last. A case block is considered irrefutable if it has no guard and its pattern is irrefutable. A pattern is considered irrefutable if we can prove from its syntax alone that it will always succeed. Only the following patterns are irrefutable: AS Patterns whose left-hand side is irrefutable AS Patterns whose left-hand side is irrefutable OR Patterns containing at least one irrefutable pattern OR Patterns containing at least one irrefutable pattern Capture Patterns Capture Patterns Wildcard Patterns Wildcard Patterns parenthesized irrefutable patterns parenthesized irrefutable patterns ### 8. 6. 4. Patterns¶ Note This section uses grammar notations beyond standard EBNF: the notation SEP. RULE+ is shorthand for RULE (SEP RULE) the notation SEP. RULE+ is shorthand for RULE (SEP RULE) SEP. RULE+ RULE (SEP RULE)* the notation.