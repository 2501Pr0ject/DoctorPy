1; Win64; x64)' values = {'name': 'Michael Foord', 'location': 'Northampton', 'language': 'Python' } headers = {'User-Agent': user_agent} data = urllib. parse. urlencode(values) data = data. encode('ascii') req = urllib. request. Request(url, data, headers) with urllib. request. urlopen(req) as response: the_page = response. read() The response also has two useful methods. See the section on info and geturl which comes after we have a look at what happens when things go wrong. ## Handling Exceptions¶ urlopen raises URLError when it cannot handle a response (though as usual with Python APIs, built-in exceptions such as ValueError, TypeError etc. may also be raised). URLError ValueError TypeError HTTPError is the subclass of URLError raised in the specific case of HTTP URLs. HTTPError URLError The exception classes are exported from the urllib. error module. urllib. error ### URLError¶ Often, URLError is raised because there is no network connection (no route to the specified server), or the specified server doesn’t exist. In this case, the exception raised will have a ‘reason’ attribute, which is a tuple containing an error code and a text error message. e. g. >>> req = urllib. request. Request(' >>> try: urllib. request. urlopen(req). except urllib. error. URLError as e:. print(e. reason). (4, 'getaddrinfo failed') ### HTTPError¶ Every HTTP response from the server contains a numeric “status code”. Sometimes the status code indicates that the server is unable to fulfil the request. The default handlers will handle some of these responses for you (for example, if the response is a “redirection” that requests the client fetch the document from a different URL, urllib will handle that for you). For those it can’t handle, urlopen will raise an HTTPError. Typical errors include ‘404’ (page not found), ‘403’ (request forbidden), and ‘401’ (authentication required). HTTPError See section 10 of RFC 2616 for a reference on all the HTTP error codes. The HTTPError instance raised will have an integer ‘code’ attribute, which corresponds to the error sent by the server.